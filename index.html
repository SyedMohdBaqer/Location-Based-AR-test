<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
        <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <a-scene
            renderer="logarithmicDepthBuffer: true;"
            embedded
            loading-screen="enabled: true;"
            arjs="sourceType: webcam; debugUIEnabled: false;"
        >
            <a-assets>
                <a-asset-item
                    id="animated-asset"
                    src="assets/asset.glb"
                ></a-asset-item>
            </a-assets>

                <a-entity
                    look-at="[gps-camera]"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset"
                    scale="19.660283860629598 19.660283860629598 19.660283860629598"
                    gps-entity-place="latitude: 19.17278889287336; longitude: 73.02247331477702;"
                ></a-entity>

            <a-camera gps-camera rotation-reader></a-camera>
        </a-scene>
    </body>
</html>



<!---
<!DOCTYPE html>
<html>
<head>
<title>AR.js A-Frame Location-based</title>
<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
<script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>
<script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<script>
        AFRAME.registerComponent('clicker', {
            init: function() {
                    const placedModel = document.getElementById('placedModel');
                    const camera = document.querySelector('[camera]');
                    const cameraPosition = camera.object3D.getWorldPosition(new THREE.Vector3());
                    const position = cameraPosition.clone().add(new THREE.Vector3(0, -3, -2)); // 2 unit in front
                    placedModel.object3D.position.copy(position);
                    placedModel.setAttribute('visible', 'true');   
                this.el.addEventListener('click', e => {
                    alert('Box clicked!');
                });
            }
        });
</script>
</head>
<body>
<a-scene vr-mode-ui='enabled: false' cursor='rayOrigin: mouse' raycaster='near: 0; far: 50000' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' renderer='antialias: true; alpha: true'>
  <a-assets>
    <a-asset-item id="tokyo" src="./assets/V8installationV-v1.glb"></a-asset-item>
  </a-assets>
    <a-camera gps-projected-camera='minDistance:10;' rotation-reader></a-camera>
    <a-light type="ambient" intensity="1"></a-light>
 <a-entity light="type: directional; intensity: 1;" position="1 4.3 2.5"> </a-entity>
    <a-entity
    light="
      type: directional;
      intensity: 0.8;
      castShadow: true;
      shadowMapHeight:2048;
      shadowMapWidth:2048;
      shadowCameraTop: 10;
      target: #model;
      shadowRadius: 12"
    xrextras-attach="target: model; offset: 1 15 3;"
    shadow>
  </a-entity>
  <a-box id = "placedModel" color='red' scale='200 200 200' visible="false"></a-box>  
  <a-entity id ="model" gltf-model="./assets/V8installationV-v1.glb" scale="8 8 8" animation-mixer position = "0 -15 0" rotation ="0 -225 0" gps-projected-entity-place="latitude: 19.172980; longitude: 73.023283" clicker></a-entity>
</a-scene>
</body>
</html>

<!DOCTYPE html>
<html> 
    <head>
        <title>AR.js testing</title>
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js'></script>
        <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>  
      <script>
        AFRAME.registerComponent('clicker', {
            init: function() {             
                                          const placedModel = document.getElementById('placedModel');
                    const camera = document.querySelector('[camera]');
                    const cameraPosition = camera.object3D.getWorldPosition(new THREE.Vector3());
                    const position = cameraPosition.clone().add(new THREE.Vector3(0, -1, -3)); // 2 unit in front
                    placedModel.object3D.position.copy(position);
                this.el.addEventListener('click', e => {
                    alert('Box clicked!');
                    placedModel.setAttribute('visible', 'true');   
                });
            }
        });
        </script>
    </head>
    <body>
    <a-scene
        vr-mode-ui="enabled: false"
        cursor='rayOrigin: mouse'
        raycaster='near: 0; far: 50000'
        arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false;'
        renderer='antialias: true; alpha: true'>
         <a-camera gps-projected-camera rotation-reader></a-camera>
            <a-box gps-projected-entity-place='latitude: 19.172809160339742; longitude: 73.02248940803112' color='red' scale='200 200 200' clicker></a-box>
            <a-entity id ="placedModel" gltf-model ="./assets/V8installationV-v1.glb" scale = "1 1 1" visible = "false"></a-entity>
    </a-scene>
    </body>
</html>
-->
<!---

<!DOCTYPE html>
<html> 
    <head>
        <title>AR.js Click Places Example</title>
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js'></script>
        <script>
        AFRAME.registerComponent('clicker', {
            init: function() {
                this.el.addEventListener('click', e => {
                    alert('Box clicked!');
                });
            }
        });
        </script>
    </head>
    <body>
    <a-scene
        vr-mode-ui="enabled: false"
        cursor='rayOrigin: mouse'
        raycaster='near: 0; far: 50000'
        arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false;'
        renderer='antialias: true; alpha: true'>
            <a-camera gps-camera rotation-reader></a-camera>
            <a-box gps-entity-place='latitude: 19.172892; longitude: 73.022560' color='red' scale='200 200 200' clicker></a-box>
    </a-scene>
    </body>
</html>
-->
